(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function a(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==a["return"]||a["return"]()}finally{if(s)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function s(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?o(Object(t),!0).forEach(function(a){d(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function p(e,t,a){return t&&u(e.prototype,t),a&&u(e,a),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function b(e,t,a){return t&&g(e.prototype,t),a&&g(e,a),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function f(e,t,a){return t&&m(e.prototype,t),a&&m(e,a),e}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function S(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?v(Object(t),!0).forEach(function(a){L(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e){return A(e)||w(e)||_(e)||k()}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}function w(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e){if(Array.isArray(e))return T(e)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function x(e,t,a){return t&&P(e.prototype,t),a&&P(e,a),e}function F(e){return W(e)||I(e)||H(e)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){if(e){if("string"==typeof e)return B(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?B(e,t):void 0}}function I(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function W(e){if(Array.isArray(e))return B(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function z(e,t,a){return t&&R(e.prototype,t),a&&R(e,a),e}function O(e){return j(e)||D(e)||G(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function j(e){if(Array.isArray(e))return V(e)}function Y(e,t){return U(e)||K(e,t)||G(e,t)||X()}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){if(e){if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function K(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,l=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done)&&(a.push(n.value),!(t&&a.length===t));r=!0);}catch(e){l=!0,o=e}finally{try{r||null==i["return"]||i["return"]()}finally{if(l)throw o}}return a}}function U(e){if(Array.isArray(e))return e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function Z(e,t,a){return t&&Q(e.prototype,t),a&&Q(e,a),e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function te(e,t,a){return t&&ee(e.prototype,t),a&&ee(e,a),e}function ae(e){return ne(e)||oe(e)||le(e)||re()}function re(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function le(e,t){if(e){if("string"==typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ie(e,t):void 0}}function oe(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ne(e){if(Array.isArray(e))return ie(e)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function ce(e,t,a){return t&&de(e.prototype,t),a&&de(e,a),e}function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function pe(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?ue(Object(t),!0).forEach(function(a){he(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function he(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ge(e){return fe(e)||me(e)||ye(e)||be()}function be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e,t){if(e){if("string"==typeof e)return ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ve(e,t):void 0}}function me(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function fe(e){if(Array.isArray(e))return ve(e)}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var a,r=0;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function Ee(e,t,a){return t&&Le(e.prototype,t),a&&Le(e,a),e}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(){var e,t;nunjucks&&!(null!==(e=window.sfpbc)&&void 0!==e&&e.nunjucksEnv)&&null!==(t=window.sfpbc)&&void 0!==t&&t.addNunjucksFilters&&(window.sfpbc.nunjucksEnv=new nunjucks.Environment,window.sfpbc.addNunjucksFilters(window.sfpbc.nunjucksEnv))}var we=function(){function t(a){var r=this;if(e(this,t),null!==a&&null!==a.querySelector(".tablist")){this.tablistNode=a,this.allTabs=[],this.firstTab=null,this.lastTab=null,this.primaryButtons=null,this.secondaryButtons=null,this.secondaryItems=null,this.localizedMore=a.getAttribute("data-localized-more"),this.primary=a.querySelector(".tablist"),this.primaryItems=a.querySelectorAll(".tablist > li:not(.more)"),this.primary.insertAdjacentHTML("beforeend","\n            <li class=\"more-tab\" role=\"none\">\n                <button type=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-selected=\"false\" role=\"tab\" tabindex=\"-1\">\n                    <span>".concat(this.localizedMore,"</span>\n                </button>\n                <div class=\"secondary-tablist\">\n                    <ul role=\"none\">\n                    ").concat(this.primary.innerHTML,"\n                    </ul>\n                </div>\n            </li>")),this.secondary=a.querySelector(".secondary-tablist"),this.secondaryItems=this.secondary.querySelectorAll("li"),this.allItems=a.querySelectorAll("li"),this.moreTab=this.primary.querySelector(".more-tab"),this.moreBtn=this.moreTab.querySelector("button"),this.moreBtn.addEventListener("click",function(t){t.preventDefault(),r.toggleMoreMenu()}),this.moreBtn.addEventListener("keydown",this.onKeydown.bind(this)),document.addEventListener("click",function(t){for(var e=t.target;e;){if(e===r.secondary||e===r.moreBtn)return;e=e.parentNode}r.primary.classList.remove("show-secondary"),r.moreBtn.setAttribute("aria-expanded",!1)}),this.allTabs=Array.from(this.tablistNode.querySelectorAll(".tablist li:not(.more-tab) button")),this.tabpanels=[];for(var l=0;l<this.allTabs.length;l+=1){var o=this.allTabs[l],n=this.tablistNode.querySelector("#".concat(o.getAttribute("aria-controls")));o.tabIndex=-1,o.setAttribute("aria-selected","false"),n&&(n.classList.add("hidden"),this.tabpanels.push(n)),o.addEventListener("keydown",this.onKeydown.bind(this)),o.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=o)}this.doAdapt(),this.setSelectedTab(this.firstTab)}}return a(t,[{key:"setSelectedTab",value:function(e){for(var t,a=0;a<this.allTabs.length;a+=1)t=this.allTabs[a],t.setAttribute("aria-selected","false"),t.tabIndex=-1,this.tabpanels[a].classList.add("hidden");var r=e.getAttribute("data-tab");e.setAttribute("aria-selected","true"),e.removeAttribute("tabindex"),this.tablistNode.querySelector("#".concat(r)).classList.remove("hidden");var l=e.closest("li.more-tab"),o=this.moreBtn.parentNode;null===l?o.classList.contains("active")&&(o.classList.remove("active"),this.moreBtn.tabIndex=-1):(o.classList.add("active"),this.moreBtn.removeAttribute("tabindex"))}},{key:"showTab",value:function(e){e.classList.remove("hidden")}},{key:"hideTab",value:function(e){e.classList.add("hidden")}},{key:"moveFocusToTab",value:function(e){e.focus()}},{key:"moveFocusToPreviousTab",value:function(e){var t;e===this.firstTab?this.moveFocusToTab(this.lastTab):(t=this.primaryButtons.indexOf(e),this.moveFocusToTab(this.primaryButtons[t-1]))}},{key:"moveFocusToNextTab",value:function(e){var t;e===this.lastTab?this.moveFocusToTab(this.firstTab):(t=this.primaryButtons.indexOf(e),this.moveFocusToTab(this.primaryButtons[t+1]))}},{key:"toggleMoreMenu",value:function(){this.primary.classList.toggle("show-secondary"),this.moreBtn.setAttribute("aria-expanded",this.primary.classList.contains("show-secondary"))}},{key:"moveFocusDownTab",value:function(e){var t,a=this.moreBtn===e,r="true"===this.moreBtn.getAttribute("aria-expanded"),l=this.secondaryButtons[this.secondaryButtons.length-1];a&&!r?(this.toggleMoreMenu(),this.moveFocusToTab(this.secondaryButtons[0])):e!==l&&(t=this.secondaryButtons.indexOf(e),this.moveFocusToTab(this.secondaryButtons[t+1]))}},{key:"moveFocusUpTab",value:function(e){var t;e!==this.secondaryButtons[0]&&(t=this.secondaryButtons.indexOf(e),this.moveFocusToTab(this.secondaryButtons[t-1]))}},{key:"onKeydown",value:function(e){var t=e.currentTarget,a=!1;switch(e.key){case"ArrowLeft":this.moveFocusToPreviousTab(t),a=!0;break;case"ArrowRight":this.moveFocusToNextTab(t),a=!0;break;case"ArrowDown":this.moveFocusDownTab(t),a=!0;break;case"ArrowUp":this.moveFocusUpTab(t),a=!0;break;case"Home":this.moveFocusToTab(this.firstTab),a=!0;break;case"End":this.moveFocusToTab(this.lastTab),a=!0;break;case"Tab":0<=this.secondaryButtons.indexOf(t)&&this.toggleMoreMenu();break;case"Escape":this.toggleMoreMenu(),this.moveFocusToTab(this.lastTab),a=!0;break;default:}a&&(e.stopPropagation(),e.preventDefault())}},{key:"onClick",value:function(e){this.setSelectedTab(e.currentTarget)}},{key:"doAdapt",value:function(){var e=this;this.allItems.forEach(function(t){e.showTab(t),t.style.removeProperty("flex")}),this.moreBtn.parentNode.style.removeProperty("flex");var t=[],a=[],r=this.primary.offsetWidth,l=Array.from(this.primaryItems).reduce(function(e,t){return e+t.offsetWidth},0);if(l>r){var o=this.moreBtn.offsetWidth;this.primaryItems.forEach(function(l,n){l.offsetWidth>o&&(o=l.offsetWidth),r>=o*(n+2)?a.push(n):(e.hideTab(l),t.push(n))})}if(!t.length)this.moreBtn.parentNode.classList.add("hidden"),void 0!==this.primary&&this.primary.classList.remove("show-secondary"),this.moreBtn.parentNode.setAttribute("aria-expanded",!1),this.primary.classList.add("centered");else{this.secondaryItems.forEach(function(a,r){t.includes(r)||e.hideTab(a)}),this.primary.classList.remove("centered");var n="1 0 ".concat(100/(a.length+1),"%");a.forEach(function(t){e.primaryItems[t].style.flex=n}),this.moreBtn.parentNode.style.flex=n}this.primaryButtons=Array.from(this.primary.querySelectorAll("ul.tablist > li:not(.hidden) > button")),this.lastTab=this.primaryButtons[this.primaryButtons.length-1],this.secondaryButtons=Array.from(this.secondary.querySelectorAll(".secondary-tablist ul > li:not(.hidden) > button"))}}]),t}();var Ae=function(){return 1023<window.innerWidth},Te=function(e){return!!e.offsetParent},Ce=function(e,t,a){for(var r=t,l=0;r<=e;)l++,r+=t+a;return l};var Pe=function(){function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var r=s({openFirstItem:!0},a),o=t;this.accordionItems={},this.isShowHide=o[0].classList.contains("show-hide__item");var n,i=l(o);try{for(i.s();!(n=i.n()).done;){var d=n.value,u=d.querySelector("button[aria-expanded]");this.accordionItems[u.attributes.id.nodeValue]=d,u.addEventListener("click",this.onButtonClick.bind(this)),this.toggleClosed(d)}}catch(e){i.e(e)}finally{i.f()}r.openFirstItem&&this.toggleOpen(o[0])}return p(e,[{key:"onButtonClick",value:function(e){for(var t in this.accordionItems)t===e.srcElement.attributes.id.nodeValue?this.toggleReverse(this.accordionItems[t]):this.isShowHide&&Ae()&&this.toggleClosed(this.accordionItems[t])}},{key:"toggleReverse",value:function(e){var t=e.querySelector("button[aria-expanded]"),a=t.getAttribute("aria-expanded");if("true"===a){if(Ae()&&this.isShowHide)return;this.toggleClosed(e)}else this.toggleOpen(e)}},{key:"toggleClosed",value:function(e){var t=e.querySelector("button[aria-expanded]");t.setAttribute("aria-expanded",!1);var a=t.getAttribute("aria-controls"),r="".concat(a,"__media").concat(Ae()?"--desktop":"--mobile"),l=document.querySelector("div[data-media-label=\"".concat(r,"\"]"));l&&l.classList.add("show-hide__media--hidden"),e.classList.remove("selected")}},{key:"toggleOpen",value:function(e){var t=e.querySelector("button[aria-expanded]");t.setAttribute("aria-expanded",!0);var a=t.getAttribute("aria-controls"),r="".concat(a,"__media").concat(Ae()?"--desktop":"--mobile"),l=document.querySelector("div[data-media-label=\"".concat(r,"\"]"));l&&l.classList.remove("show-hide__media--hidden"),e.classList.add("selected")}}]),e}();var xe=function(){function e(t){h(this,e);var a=t.getElementsByClassName("tooltip_text")[0],r=a.getBoundingClientRect(),l=t.getElementsByClassName("tooltip_icon")[0],o=l.getBoundingClientRect(),n=1280<=window.screen.width?96:56;if(!this.isInViewport(r,n)){var i={top:r.top,bottom:r.bottom,left:r.left-r.width/2+o.width/2+11,right:r.right-r.width/2+o.width/2+11},s={top:r.top,bottom:r.bottom,left:r.left+r.width/2-o.width/2-11,right:r.right+r.width/2-o.width/2-11},d={top:r.top+r.height+o.height+28,bottom:r.bottom+r.height+o.height+28,left:r.left,right:r.right},c={top:r.top+r.height+o.height+28,bottom:r.bottom+r.height+o.height+28,left:r.left-r.width/2+o.width/2+11,right:r.right-r.width/2+o.width/2+11},u={top:r.top+r.height+o.height+28,bottom:r.bottom+r.height+o.height+28,left:r.left+r.width/2-o.width/2-11,right:r.right+r.width/2-o.width/2-11},p={top:r.top+r.height/2+o.height/2+14,bottom:r.bottom+r.height/2+o.height/2+14,left:r.left-r.width/2-o.width/2-14,right:r.right-r.width/2-o.width/2-14},g={top:r.top+r.height/2+o.height/2+14,bottom:r.bottom+r.height/2+o.height/2+14,left:r.left+r.width/2+o.width/2+14,right:r.right+r.width/2+o.width/2+14};!this.isInLeftRightScreenBounding(r)&&this.isInLeftRightScreenBounding(i)?(a.classList.remove("tooltip_top_position_arrow_center"),a.classList.add("tooltip_top_position_arrow_right"),!this.isInViewport(i,n)&&this.isInViewport(c,n)&&(a.classList.remove("tooltip_top_position_arrow_right"),a.classList.add("tooltip_bottom_position_arrow_right"))):!this.isInLeftRightScreenBounding(r)&&this.isInLeftRightScreenBounding(s)?(a.classList.remove("tooltip_top_position_arrow_center"),a.classList.add("tooltip_top_position_arrow_left"),!this.isInViewport(s,n)&&this.isInViewport(u,n)&&(a.classList.remove("tooltip_top_position_arrow_left"),a.classList.add("tooltip_bottom_position_arrow_left"))):this.isInViewport(d,n)?(a.classList.remove("tooltip_top_position_arrow_center"),a.classList.add("tooltip_bottom_position_arrow_center")):this.isInViewport(p,n)?(a.classList.remove("tooltip_top_position_arrow_center"),a.classList.add("tooltip_left_position_arrow_center")):this.isInViewport(g,n)&&(a.classList.remove("tooltip_top_position_arrow_center"),a.classList.add("tooltip_right_position_arrow_center"))}this.handleFocusOut(t)}return b(e,[{key:"isInViewport",value:function(e,t){return e.top>=t&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"isInLeftRightScreenBounding",value:function(e){return 0<=e.left&&e.right<=document.documentElement.clientWidth}},{key:"handleFocusOut",value:function(e){e.addEventListener("mouseleave",function(){var e;null!==(e=document.activeElement)&&void 0!==e&&e.classList.contains("tooltip")&&document.activeElement.blur()})}}]),e}();var Fe=function(){function e(t){var a=this;y(this,e),t&&(this.carouselWrapper=t.classList.contains("carousel__wrapper")?t:t.querySelector(".carousel__wrapper"),this.carousel=t.querySelector(".carousel"),this.leftNav=t.querySelector(".left-nav"),this.rightNav=t.querySelector(".right-nav"),this.cards=t.querySelectorAll(".carousel-card"),this.firstCard=t.querySelector(".carousel-card:first-child"),this.secondCard=t.querySelector(".carousel-card:nth-child(2)"),this.lastCard=t.querySelector(".carousel-card:last-child"),this.scrollWidth=null,this.isDesktop=!0,this.fadeWidth=null,this.fadeStart=null,this.initialize(),this.carousel.addEventListener("scroll",function(){a.checkNavAndFade()}),this.rightNav.addEventListener("click",function(){a.carousel.classList.remove("carousel-transform-right","carousel-transform-left"),a.carousel.scrollLeft+=a.scrollWidth,a.carousel.classList.add("carousel-transform-right")}),this.leftNav.addEventListener("click",function(){a.carousel.classList.remove("carousel-transform-left","carousel-transform-right"),a.carousel.scrollLeft-=a.scrollWidth,a.carousel.classList.add("carousel-transform-left")}))}var t=Math.trunc;return f(e,[{key:"checkLeftBounds",value:function(){return 0===this.carousel.scrollLeft}},{key:"checkRightBounds",value:function(){return t(this.carousel.getBoundingClientRect().right)>=t(this.lastCard.getBoundingClientRect().right)}},{key:"resetFade",value:function(){var e,t=this;this.carousel.scrollWidth>this.carousel.clientWidth&&(this.carousel.style.justifyContent="flex-start"),this.carousel.scrollLeft=0,this.scrollWidth=(null===(e=this.secondCard)||void 0===e?void 0:e.offsetLeft)-this.firstCard.offsetLeft,this.isDesktop=80<=this.firstCard.offsetLeft,this.fadeWidth=this.isDesktop?30:14,this.fadeStart=this.isDesktop?10:0,this.cards.forEach(function(e){t.setCardFade(e,null)})}},{key:"setCardFade",value:function(e,t){var a=e.querySelector(".card--mask");a.style["mask-image"]=t,a.style["-webkit-mask-image"]=t}},{key:"checkNavAndFade",value:function(){var e=Math.floor,t=this,a=this.checkLeftBounds(),r=this.checkRightBounds();a?this.leftNav.classList.add("hidden"):this.leftNav.classList.remove("hidden"),r?this.rightNav.classList.add("hidden"):this.rightNav.classList.remove("hidden");var l=this.carousel.classList.contains("carousel--fade-left"),o=this.carousel.classList.contains("carousel--fade-right");if(!(this.carousel.scrollWidth<=this.carousel.clientWidth||!(l||o)||2>=this.cards.length)){var n=parseInt(window.getComputedStyle(this.firstCard).getPropertyValue("margin-left")),i=parseInt(window.getComputedStyle(this.lastCard).getPropertyValue("margin-right")),s=l?e(.5*n):0,d=o?e(.5*i):0;if(!(0>=s&&0>=d)){var c={left:this.carousel.scrollLeft,right:this.carousel.scrollLeft+this.carousel.clientWidth},u={left:c.left,right:c.left+s},p={left:c.right-d,right:c.right};this.cards.forEach(function(a){var r=a.offsetLeft,l=r+a.clientWidth;if(0<s&&r<=u.right&&l>=u.left){var o=e(100*((u.right-r)/a.clientWidth))-t.fadeStart,n=o+t.fadeWidth;100<n&&(n=100),t.setCardFade(a,"linear-gradient(to right, transparent "+o+"%, rgba(0,0,0,1) "+n+"%)")}else if(0<d&&r<=p.right&&l>=p.left){var i=e(100*((l-p.left)/a.clientWidth))-t.fadeStart,c=i+t.fadeWidth;100<c&&(c=100),t.setCardFade(a,"linear-gradient(to left, transparent "+i+"%, rgba(0,0,0,1) "+c+"%)")}else t.setCardFade(a,null)})}}}},{key:"checkBoundaryArea",value:function(){t(this.lastCard.getBoundingClientRect().right)<=t(this.carousel.getBoundingClientRect().right+5)?(this.rightNav.setAttribute("class","hidden"),this.carousel.style.setProperty("overflow-x","hidden"),this.carousel.style.setProperty("justify-content","center")):(this.rightNav.setAttribute("class","right-nav"),this.carousel.style.setProperty("overflow-x","scroll"))}},{key:"initialize",value:function(){this.resetFade(),this.checkBoundaryArea(),this.checkNavAndFade()}}]),e}();var qe=function(){function e(t){if(C(this,e),!!t){this.rootNode=t,this.originalPointerPosition={x:0,y:0},this.activeScrollbar=null,this.maxScroll={x:0,y:0},this.anchorPosition={x:0,y:0},this.lastTranslate={x:0,y:0},this.carousel=this.rootNode.querySelector(".carousel"),this.scrollContent=this.carousel?this.carousel:document.createElement("div");var a=this.carousel?this.rootNode.querySelector(".scrollable__content-wrapper"):document.createElement("div");if(!this.carousel){var r;this.scrollContent.classList.add("scrollable__content"),(r=this.scrollContent).append.apply(r,E(this.rootNode.childNodes)),a.classList.add("scrollable__content-wrapper"),a.appendChild(this.scrollContent)}this.scrollbarX=document.createElement("div"),this.scrollbarX.classList.add("scrollable__scrollbar","scrollable__scrollbar--x","mobile-pt-8","tablet-pt-16","tablet-pb-16","mobile-pb-16","smalldesktop-pb-16","pt-24"),this.scrollbarTrackX=document.createElement("div"),this.scrollbarTrackX.classList.add("scrollable__scrollbar-track"),this.scrollbarX.appendChild(this.scrollbarTrackX),this.scrollbarHandleX=document.createElement("div"),this.scrollbarHandleX.classList.add("scrollable__scrollbar-handle"),this.scrollbarHandleX.innerHTML="<div class=\"scrollable__scrollbar-handle-inner\">",this.scrollbarTrackX.appendChild(this.scrollbarHandleX),this.scrollbarY=document.createElement("div"),this.scrollbarY.classList.add("scrollable__scrollbar","scrollable__scrollbar--y"),this.scrollbarTrackY=document.createElement("div"),this.scrollbarTrackY.classList.add("scrollable__scrollbar-track"),this.scrollbarY.appendChild(this.scrollbarTrackY),this.scrollbarHandleY=document.createElement("div"),this.scrollbarHandleY.classList.add("scrollable__scrollbar-handle"),this.scrollbarHandleY.innerHTML="<div class=\"scrollable__scrollbar-handle-inner\">",this.scrollbarTrackY.appendChild(this.scrollbarHandleY),a.appendChild(this.scrollbarY),this.rootNode.appendChild(a),this.rootNode.appendChild(this.scrollbarX),this.setScrollbarSize(),this.addEventListeners(["mousedown","touchstart"],this.scrollbarHandleX,this.onMouseDown),this.addEventListeners(["mousedown","touchstart"],this.scrollbarHandleY,this.onMouseDown),this.addEventListeners(["mouseup","touchend","touchcancel"],document,this.onMouseUp),this.addEventListeners(["mousemove","touchmove"],document,this.onMouseMove),this.addEventListeners(["scroll"],this.scrollContent,this.onScroll),window.addEventListener("resize",this.onResize.bind(this))}}return x(e,[{key:"addEventListeners",value:function(e,t,a){var r=this;e.forEach(function(e){return t.addEventListener(e,a.bind(r))})}},{key:"setScrollbarSize",value:function(){var e=this.scrollContent.clientWidth/this.scrollContent.scrollWidth;this.scrollbarHandleX.style.width="".concat(100*e,"%");var t=this.scrollContent.clientHeight/this.scrollContent.scrollHeight;this.scrollbarHandleY.style.height="".concat(100*t,"%"),this.scrollbarTrackY.style.height="".concat(this.scrollContent.clientHeight,"px"),this.maxScroll={x:this.scrollbarTrackX.clientWidth-this.scrollbarHandleX.clientWidth,y:this.scrollbarTrackY.clientHeight-this.scrollbarHandleY.clientHeight};var a=!(1==e||this.scrollContent.lastElementChild.getBoundingClientRect().right<this.scrollContent.getBoundingClientRect().right);a?this.scrollbarX.classList.remove("hidden"):this.scrollbarX.classList.add("hidden"),1>t?this.scrollbarY.classList.remove("hidden"):this.scrollbarY.classList.add("hidden")}},{key:"onMouseDown",value:function(e){this.activeScrollbar=e.currentTarget===this.scrollbarHandleX?"x":"y",this.originalPointerPosition={x:e.clientX,y:e.clientY},this.scrollContent.style.scrollBehavior="auto"}},{key:"onMouseUp",value:function(){this.activeScrollbar&&(this.activeScrollbar=null,this.setAnchorPosition()),this.scrollContent.style.scrollBehavior=null}},{key:"onMouseMove",value:function(e){if(this.activeScrollbar){var t=this.activeScrollbar,a="client".concat(t.toUpperCase()),r=e[a]-this.originalPointerPosition[t],l=this.getMinMax(L({},t,this.anchorPosition[t]+r));this.setHandlePosition(S({},l)),this.setScrollPosition(S({},l))}}},{key:"onResize",value:function(){this.setScrollbarSize();var e=this.calcHandlePositionFromScrollPosition();this.setHandlePosition(e),this.setAnchorPosition()}},{key:"onScroll",value:function(){var e=this.calcHandlePositionFromScrollPosition(),t=e.x,a=e.y;this.setHandlePosition({x:t,y:a}),this.activeScrollbar||this.setAnchorPosition()}},{key:"setHandlePosition",value:function(e){var t=e.x,a=e.y;"number"==typeof t&&(this.scrollbarHandleX.style.transform="translateX(".concat(t||0,"px)"),this.lastTranslate.x=t),"number"==typeof a&&(this.scrollbarHandleY.style.transform="translateY(".concat(a||0,"px)"),this.lastTranslate.y=a)}},{key:"setScrollPosition",value:function(e){var t=e.x,a=e.y;"number"==typeof t&&(this.scrollContent.scrollLeft=t*((this.scrollContent.scrollWidth-this.scrollContent.clientWidth)/this.maxScroll.x)),"number"==typeof a&&(this.scrollContent.scrollTop=a*((this.scrollContent.scrollHeight-this.scrollContent.clientHeight)/this.maxScroll.y))}},{key:"setAnchorPosition",value:function(){this.anchorPosition=S({},this.lastTranslate)}},{key:"getMinMax",value:function(e){var t=e.x,a=e.y,r={};return"number"==typeof t&&(r.x=t,t>this.maxScroll.x?r.x=this.maxScroll.x:0>t&&(r.x=0)),"number"==typeof a&&(r.y=a,a>this.maxScroll.y?r.y=this.maxScroll.y:0>a&&(r.y=0)),r}},{key:"calcHandlePositionFromScrollPosition",value:function(){var e=this.maxScroll.x/(this.scrollContent.scrollWidth-this.scrollContent.clientWidth)*this.scrollContent.scrollLeft,t=this.maxScroll.y/(this.scrollContent.scrollHeight-this.scrollContent.clientHeight)*this.scrollContent.scrollTop;return this.getMinMax({x:e,y:t})}}]),e}();var He=function(){var e=document.querySelectorAll(".section--category-select > select");e.forEach(function(e){Te(e)?e.addEventListener("change",Ie):e.removeEventListener("change",Ie),Ie({target:e})})},Ie=function(e){var t=e.target,a=t.querySelectorAll("option");a.forEach(function(e){var a=e.value,r=document.querySelector("#carousel-container-".concat(a));if(!Te(t)||e.value===t.value){r.style.display="grid";var l=window.allCardGroups.get("carousel-".concat(a));l.initialize();var o=r.querySelector(".scrollable"),n=window.allScrollables.get(o);n.onResize()}else r.style.display="none"})};var We={PAGINATION_MODE_NONE:"none",PAGINATION_MODE_SHOWMORE:"showMore"},Be=function(){function e(t){M(this,e),this.tableWrapper=t,this.tableHeader=this.tableWrapper.querySelector(":scope > table > thead"),this.tableBody=this.tableWrapper.querySelector(":scope > table > tbody"),this.initFrozenColumns(),this.initPagination(),this.resizeObserver=new ResizeObserver(this.handleResize.bind(this)),this.resizeObserver.observe(this.tableWrapper)}return z(e,[{key:"handleResize",value:function(){this.isFrozenColumn&&(this.syncFrozenColumnRowHeights(),this.handleHorizontalScroll())}},{key:"initFrozenColumns",value:function(){var e=this;this.isFrozenColumn=0<parseInt(this.tableWrapper.getAttribute("data-table-frozen-columns"),10),this.isFrozenColumn&&(this.syncFrozenColumnRowHeights(),this.handleHorizontalScroll(),this.tableHeader.addEventListener("scroll",function(){e.tableBody.scrollLeft=e.tableHeader.scrollLeft}),this.tableBody.addEventListener("scroll",function(){e.tableHeader.scrollLeft=e.tableBody.scrollLeft}))}},{key:"handleHorizontalScroll",value:function(){var e=this.tableHeader.scrollWidth>this.tableHeader.offsetWidth;e?this.tableWrapper.classList.add("has-horizontal-scroll"):this.tableWrapper.classList.remove("has-horizontal-scroll")}},{key:"syncFrozenColumnRowHeights",value:function(){for(var e=this.tableHeader.children[0],t=this.tableBody.children,a=[e].concat(F(t)),r=0;r<a.length;r++)this.syncFrozenColumnRowHeight(a[r])}},{key:"syncFrozenColumnRowHeight",value:function(e){for(var t=e.querySelectorAll(".sticky-column"),a=0,r=0;r<t.length;r++)a=Math.max(a,t[r].getBoundingClientRect().height);var l=e.getBoundingClientRect().height;if(l>a)for(var o=0;o<t.length;o++)t[o].style.height="".concat(l,"px");else l<a&&(e.style.height="".concat(a,"px"))}},{key:"initPagination",value:function(){var e=this,t=this.tableWrapper.getAttribute("data-table-pagination-mode");if(t===We.PAGINATION_MODE_SHOWMORE){var a=this.tableWrapper.querySelector(".showMoreBtn"),r=this.tableWrapper.querySelector(".showLessBtn");null===a||void 0===a?void 0:a.addEventListener("click",function(){e.tableWrapper.classList.remove("hide-additional-rows"),a.classList.add("hidden"),r.classList.remove("hidden")}),null===r||void 0===r?void 0:r.addEventListener("click",function(){e.tableWrapper.classList.add("hide-additional-rows"),a.classList.remove("hidden"),r.classList.add("hidden")})}}}]),e}();var Me=function(){function e(t){var a,r;J(this,e),!t||null!==(a=t.dataset)&&void 0!==a&&a.loaded||(this.cssClasses={navItemHidden:"pagination__nav-item--hidden",visibleTruncation:"pagination__nav-truncate--show"},this.selectors={currentPage:".pagination__current-page",nav:".pagination__nav",navItem:".pagination__nav-item",navItemActive:".pagination__nav-item--active",navItemHidden:".".concat(this.cssClasses.navItemHidden),navPage:".pagination__nav-page",navLink:".pagination__nav-link",pagination:"[data-component=pagination]",loadMore:".pagination .load__more",loadMoreButton:".pagination .load__more .cta_button",leftTruncation:".pagination__nav-truncate--left",rightTruncation:".pagination__nav-truncate--right",visibleTruncation:".".concat(this.cssClasses.visibleTruncation)},this.paginationEl=t,this.bladeEl=t.closest("[data-blade-id]"),this.mobileLoading="default",this.lastFocusEl=null,this.visiblePages=null,this.truncateSide=null,this.highlightAlignment=(null===(r=t.dataset)||void 0===r?void 0:r.highlightAlignment)||"center",this.paginationEl.querySelector(this.selectors.loadMore).classList.contains("loadMore")?this.mobileLoading="loadMore":this.paginationEl.querySelector(this.selectors.loadMore).classList.contains("lazyLoading")&&(this.mobileLoading="lazyLoading"),this.init(),t.dataset.loaded=!0)}return Z(e,[{key:"getAttr",value:function(e){return this.paginationEl.dataset[e]}},{key:"setAttr",value:function(e,t){this.paginationEl.dataset[e]=t}},{key:"changePage",value:function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=null!==t&&void 0!==t?t:this.getAttr("perPage"),l=new CustomEvent("blade_pagination",{bubbles:!1,detail:{bladeId:this.bladeEl.dataset.bladeId,perPage:parseInt(r),currentPage:parseInt(e)}});this.bladeEl.dispatchEvent(l),a&&this.pushToHistoryApi(e,r),this.updatePagination(e,r)}},{key:"pushToHistoryApi",value:function(e,t){var a=window.location.href;if(a){var r=a.split(/[\?#]/),l=Y(r,3),o=l[0],n=l[1],i=l[2];"undefined"==typeof o&&(o=""),"undefined"==typeof n&&(n=""),"undefined"==typeof i&&(i="");var s=new URLSearchParams(n);s.set("page",e),s.set("perPage",t);var d=o+"?"+s.toString()+i;window.history.pushState({},window.title,d)}}},{key:"updatePagination",value:function(e,t){var a=this,r=window,l=r.sfpbc;l=void 0===l?{}:l;var o=l.nunjucksEnv,n=parseInt(e);if(this.setAttr("currentPage",n),o){o.addGlobal("curHref",window.location.href),this.lastFocusEl=document.activeElement.closest(this.selectors.navItem);var i=this.paginationEl.dataset,s=i.totalItems,d=i.enableTruncation,c=i.highlightAlignment;this.truncateSide=null;var u=o.render("src/blades/macros/pagination.njk",{paginationId:this.paginationEl.id,totalItems:parseInt(s),perPage:parseInt(t),startPage:n,enableTruncation:d,highlightAlignment:c,mobileLoading:this.mobileLoading}),p=document.createElement("div");p.innerHTML=u.trim();var h=p.querySelector(this.selectors.pagination);Object.entries(h.dataset).forEach(function(e){var t=Y(e,2),r=t[0],l=t[1];a.paginationEl.dataset[r]=l});var g=[this.selectors.currentPage,this.selectors.nav,this.selectors.loadMore];if(g.forEach(function(e){var t=a.paginationEl.querySelector(e);t.replaceWith(h.querySelector(e))}),this.lastFocusEl){var b=".".concat(this.lastFocusEl.getAttribute("class").split(/\s+/).join(".")," a");this.paginationEl.querySelector(b).focus()}this.addLinksHandler(),this.addLoadMoreHandler(),this.checkTruncation()}}},{key:"addResizeHandler",value:function(){var e=this;window.addEventListener("resize",function(){e.truncateSide=null,e.visiblePages=null,e.resetHiddenPageNumbers(),e.checkTruncation()})}},{key:"addLinksHandler",value:function(){var e=this,t=this.paginationEl.querySelectorAll(this.selectors.navLink);O(t).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var a=t.currentTarget.dataset.page;e.changePage(a)})})}},{key:"addPopstateHandler",value:function(){var e=this;window.addEventListener("popstate",function(){var t=window.location.href.split(/[\?#]/),a=new URLSearchParams(t[1]),r=a.get("page")||"1",l=a.get("perPage")||"10";e.changePage(r,l,!1)})}},{key:"checkTruncation",value:function(){var e=parseInt(this.getAttr("totalPages"));if(null===this.truncateSide){var t=this.paginationEl.querySelector(this.selectors.nav);if(t.scrollWidth<=t.clientWidth&&6>e)return}var a=parseInt(this.getAttr("currentPage"));this.truncateSide=a<=e/2?"right":"left",this.truncatePageNumbers()}},{key:"truncatePageNumbers",value:function(){var e=this.paginationEl.querySelector(this.selectors.nav);this.resetHiddenPageNumbers();var t=0;if("left"===this.truncateSide){var a=this.paginationEl.querySelector(this.selectors.leftTruncation);a.classList.add("pagination__nav-truncate--show"),t=this.truncateLeftToRight(e,!0)}else{var r=this.paginationEl.querySelector(this.selectors.rightTruncation);r.classList.add("pagination__nav-truncate--show"),t=this.truncateRightToLeft(e,!0)}var l=parseInt(this.getAttr("totalPages"));this.visiblePages=l-t}},{key:"resetHiddenPageNumbers",value:function(){var e=this,t=this.paginationEl.querySelectorAll(this.selectors.visibleTruncation);t.length&&t.forEach(function(t){t.classList.remove(e.cssClasses.visibleTruncation)});var a=this.paginationEl.querySelectorAll(this.selectors.navItemHidden);a.forEach(function(t){t.classList.remove(e.cssClasses.navItemHidden)})}},{key:"truncateLeftToRight",value:function(e,t){for(var a,r=!1,l=0,o=t&&"center"===this.highlightAlignment?this.calculateTruncationModifier(e):0,n="left"===this.truncateSide?2:1,s=parseInt(this.getAttr("totalPages")),d=parseInt(this.getAttr("currentPage")),c=n;c<d-o;c++)if(a=this.paginationEl.querySelector(this.selectors.navPage+"--"+c),a&&a.classList.add(this.cssClasses.navItemHidden),l++,c>d-4&&e.scrollWidth<=e.clientWidth&&"right"===this.truncateSide||"left"===this.truncateSide&&e.scrollWidth===e.clientWidth&&(d===s&&4>d-c||d===s-1&&3>d-c)){r=!0;break}return!r&&t&&(l+=this.truncateRightToLeft(e,!1)),l}},{key:"truncateRightToLeft",value:function(e,t){var a=!1,r=0,l=parseInt(this.getAttr("totalPages")),o="right"===this.truncateSide?l-1:l,n=parseInt(this.getAttr("currentPage")),s=0;"left"===this.truncateSide&&3>l-n&&e.scrollWidth<=e.clientWidth&&(s=2);for(var d,c=o;c>n+s;c--)if(d=this.paginationEl.querySelector(this.selectors.navPage+"--"+c),d&&d.classList.add(this.cssClasses.navItemHidden),r++,5>c&&"right"===this.truncateSide&&e.scrollWidth<=e.clientWidth||c===n+3&&"left"===this.truncateSide&&e.scrollWidth<=e.clientWidth||"left"===this.truncateSide&&e.scrollWidth===e.clientWidth&&c<n+3){a=!0;break}return!a&&t&&(r+=this.truncateLeftToRight(e,!1)),r}},{key:"calculateTruncationModifier",value:function(e){var t=0,a=parseInt(this.getAttr("currentPage")),r=parseInt(this.getAttr("totalPages"));return 1>r-a&&e.scrollWidth<=e.clientWidth?t=2:2>r-a&&e.scrollWidth<=e.clientWidth&&(t=1),t}},{key:"addLoadMoreHandler",value:function(){var e=this,t=this.paginationEl.querySelector(this.selectors.loadMoreButton),a=parseInt(this.paginationEl.getAttribute("data-per-page")),r=parseInt(this.paginationEl.getAttribute("data-total-pages")),l=parseInt(this.paginationEl.getAttribute("data-current-page")),o=l+1>r?l:l+1;"loadMore"===this.mobileLoading?t.addEventListener("click",function(t){t.preventDefault(),e.changePage(o,a)}):"lazyLoading"===this.mobileLoading&&window.matchMedia("(max-width: 767px)").matches&&(window.onscroll=function(){window.innerHeight+Math.round(window.scrollY)>=e.bladeEl.offsetHeight&&l!==r&&window.matchMedia("(max-width: 767px)").matches&&e.changePage(o,a)})}},{key:"addTotalItemsHandler",value:function(){var e=this;this.bladeEl.addEventListener("pagination_total",function(t){if(t.detail.bladeId===e.bladeEl.dataset.bladeId){e.setAttr("totalItems",parseInt(t.detail.totalItems));var a=parseInt(e.getAttr("perPage"));e.changePage(1,a,!1)}})}},{key:"init",value:function(){this.addResizeHandler(),this.addLinksHandler(),this.addPopstateHandler(),this.checkTruncation(),this.addLoadMoreHandler(),this.addTotalItemsHandler()}}]),e}();var Re=function(){function e(t){var a;$(this,e),!t||null!==(a=t.dataset)&&void 0!==a&&a.loaded||(this.bladeEl=t.closest("[data-blade-id]"),this.mobileLoading="default",this.init())}return te(e,[{key:"addContentChangeListener",value:function(){var e=this;this.bladeEl.addEventListener("blade_pagination",function(t){e.paginateCards(t.detail.currentPage,t.detail.perPage)})}},{key:"paginateCards",value:function(e,t){if(null!==this.bladeEl.querySelector(".index___pagination")){var a=this.bladeEl.querySelectorAll("[data-component=\"card\"]:not(.filtered)"),r=1;a.forEach(function(a){a.classList.remove("hidden"),(r<(e-1)*t+1||r>e*t)&&a.classList.add("hidden"),r++})}}},{key:"init",value:function(){this.addContentChangeListener()}}]),e}();var ze=function(){function e(t,a){se(this,e),this.gridWrapper=t,this.options=a,this.rearrangeSingleElementRow()}return ce(e,[{key:"handleResize",value:function(){this.rearrangeSingleElementRow()}},{key:"rearrangeSingleElementRow",value:function(){var e=Math.ceil;if(!this.options.allowSingleElementInRow){var t=this.gridWrapper.children.length,a=this.gridWrapper.offsetWidth;if(0<a&&1<t){var r=this.gridWrapper.children[0].offsetWidth,l=parseInt(getComputedStyle(this.gridWrapper).gap,10)||0;ae(this.gridWrapper.children).forEach(function(e){e.style.marginLeft=0,e.style.marginRight=0});var o=Ce(a,r,l);if(2<o&&1==t%o){var n=a-(o*(r+l)-l)+1;if(0<n){var i=this.gridWrapper.children[t-3];i.style.marginRight="".concat(e(n/2)+l,"px");var s=this.gridWrapper.children[t-o-1];s.style.marginLeft="".concat(e(n/2)+l,"px")}}}}}}]),e}();var Oe=function(){function e(t){Se(this,e),this.bladeEl=t.closest("[data-blade-id]"),this.filterGroup=t.querySelector("[data-component=\"filter-group\"]"),this.filters=t.querySelectorAll("[data-component=\"filter\"]"),this.cardContainer=t.querySelector("[data-component=\"card-container\"]"),this.cards=t.querySelectorAll("[data-component=\"card\"]"),this.resultCount=t.querySelector("[data-component=\"result-count\"]"),this.resultText=t.querySelector("[data-component=\"result-text\"]"),this.mobileFilterOpen=t.querySelector("[data-component=\"filter-open\"]"),this.mobileFilterClose=t.querySelector("[data-component=\"filter-close\"]"),this.applyFilters=t.querySelector("[data-component=\"apply\"]"),this.clearFilters=t.querySelector("[data-component=\"clear\"]"),this.filterCounts=t.querySelectorAll("[data-component=\"filter-count\"]"),this.noResults=t.querySelector("[data-component=\"no-results\"]"),this.noResultsDescription=t.querySelector("[data-component=\"no-results-description\"]"),this.body=document.querySelector("body"),this.appliedFilters={},this.tempAppliedFilters={},this.init()}return Ee(e,[{key:"init",value:function(){var e,t=this;this.filters.forEach(function(e){"multicheckbox"===e.dataset.inputType&&e.querySelectorAll("input").forEach(function(a){a.addEventListener("change",t.handleMulticheckbox.bind(t,e))})}),this.mobileFilterOpen.addEventListener("click",function(){t.open(),t.mobileFilterClose.focus()}),this.mobileFilterClose.addEventListener("click",function(){t.close()}),this.applyFilters.addEventListener("click",function(){t.apply()}),this.clearFilters.addEventListener("click",function(){t.clear()}),this.filterGroup.addEventListener("keydown",this.onKeyDown.bind(this));var a=document.createElement("button");a.textContent=null===(e=this.noResultsDescription.textContent.match(/\[([^\]]*?)\]/))||void 0===e?void 0:e[1],a.onclick=this.clear.bind(this);var r=this.noResultsDescription.textContent.split(/\[.*?\]/);this.noResultsDescription.innerHTML="",this.noResultsDescription.appendChild(document.createTextNode(r[0])),this.noResultsDescription.appendChild(a),this.noResultsDescription.appendChild(document.createTextNode(r[1]))}},{key:"open",value:function(){this.mobileFilterOpen.setAttribute("aria-expanded","true"),this.body.style["overflow-y"]="hidden",this.filterGroup.style.display="flex",this.setButtonStatus()}},{key:"close",value:function(){this.mobileFilterOpen.setAttribute("aria-expanded","false"),this.body.style["overflow-y"]="scroll",this.filterGroup.style.display=null,this.tempAppliedFilters={},this.mobileFilterOpen.focus()}},{key:"onKeyDown",value:function(e){if("true"===this.mobileFilterOpen.getAttribute("aria-expanded")){var t=e.key.toLowerCase();if("tab"===t){var a=null===this.filterGroup.querySelector("[data-component=\"apply\"]:not(:disabled), [data-component=\"clear\"]:not(:disabled)"),r=this.filterGroup.querySelector("[data-component=\"filter\"]:last-child"),l=r.querySelector("[aria-expanded=\"false\"]"),o=Array.from(r.querySelectorAll("input")||[]).pop(),n=Array.from(this.filterGroup.querySelectorAll("[data-component=\"filter-buttons\"] button:not(:disabled)")||[]).pop(),i=l===e.target,s=o===e.target,d=n===e.target;e.shiftKey?e.target===this.mobileFilterClose&&(a?l?l.focus():o.focus():n.focus(),e.preventDefault()):(a&&(i||s)||d)&&(this.mobileFilterClose.focus(),e.preventDefault())}else"escape"===t&&this.close()}}},{key:"handleMulticheckbox",value:function(e,t){var a,r,l,o,n=t.target,i=n.value,s=n.name;this.tempAppliedFilters[s]={type:"multicheckbox",datasetTarget:e.dataset.filterType,value:ge(null!==(a=null!==(r=null===(l=this.tempAppliedFilters[s])||void 0===l?void 0:l.value)&&void 0!==r?r:null===(o=this.appliedFilters[s])||void 0===o?void 0:o.value)&&void 0!==a?a:[])},t.target.checked?this.tempAppliedFilters[s].value.push(i):this.tempAppliedFilters[s].value=this.tempAppliedFilters[s].value.filter(function(e){return e!==i}),this.setButtonStatus()}},{key:"setButtonStatus",value:function(){var e=[this.tempAppliedFilters,this.appliedFilters].some(function(e){return 0<Object.values(e).length&&Object.values(e).some(function(e){return e.value&&0<e.value.length})});e?(this.applyFilters.removeAttribute("disabled"),this.clearFilters.removeAttribute("disabled"),this.applyFilters.setAttribute("aria-disabled","false"),this.clearFilters.setAttribute("aria-disabled","false")):(this.applyFilters.setAttribute("disabled",""),this.clearFilters.setAttribute("disabled",""),this.applyFilters.setAttribute("aria-disabled","true"),this.clearFilters.setAttribute("aria-disabled","true"))}},{key:"update",value:function(){this.tempAppliedFilters={};var e=Object.values(this.appliedFilters).filter(function(e){return e.value&&0<e.value.length}).length;e?this.filterCounts.forEach(function(t){t.innerHTML="&nbsp;(".concat(e,")")}):this.filterCounts.forEach(function(e){e.innerHTML=""}),this.updateContent(),"true"===this.mobileFilterOpen.getAttribute("aria-expanded")&&this.close()}},{key:"updateContent",value:function(){var e=this,t=ge(this.cards).filter(function(t){return Object.values(e.appliedFilters).every(function(e){if("multicheckbox"===e.type){var a,r=null===(a=t.dataset[e.datasetTarget])||void 0===a?void 0:a.split(",");return r.some(function(t){return e.value.includes(t)})||0===e.value.length}})});this.cards.forEach(function(e){e.classList.remove("filtered"),0!==t.length&&t.includes(e)||e.classList.add("filtered")}),this.noResults.style.display=0<t.length?null:"block",this.resultCount.textContent=t.length,this.resultText.textContent=1===t.length?this.resultText.dataset.textSingular:this.resultText.dataset.textPlural,this.dispatchPaginationTotalEvent(t.length)}},{key:"dispatchPaginationTotalEvent",value:function(e){var t=new CustomEvent("pagination_total",{bubbles:!0,detail:{bladeId:this.bladeEl.dataset.bladeId,totalItems:e}});this.bladeEl.dispatchEvent(t)}},{key:"apply",value:function(){this.appliedFilters=pe(pe({},this.appliedFilters),this.tempAppliedFilters),this.update()}},{key:"clear",value:function(){this.appliedFilters={},this.filterGroup.querySelectorAll("[type=\"checkbox\"]").forEach(function(e){e.checked=!1}),this.setButtonStatus(),this.update()}}]),e}();var Ne=function e(t){ke(this,e),t.forEach(function(e){var t=e.dataset,a=t.url,r=!1;a&&(r=new tableau.Viz(e,a,{width:"100%",height:500,onFirstInteractive:function(){var t,a,l=r.getVizSize(),o=null===(t=l.sheetSize)||void 0===t?void 0:t.maxSize,n=o.height,i=void 0!==n&&n,s=null===(a=l.sheetSize)||void 0===a?void 0:a.maxSize.width,d=e.getElementsByTagName("iframe")[0];d&&i&&(d.style.height="".concat(i,"px")),s&&e.closest(".js-viz-sizer").setAttribute("style","max-width:".concat(s,"px"))}}))})};var De=[];window.addEventListener("load",function(){var e=document.querySelectorAll("[data-component=tabs]");e.forEach(function(e){De.push(new we(e))})}),window.addEventListener("resize",function(){De.forEach(function(e){return e.doAdapt()})}),window.addEventListener("load",function(){var e=document.querySelectorAll(".pbc_accordion");e.forEach(function(e){var t=e.querySelectorAll(".accordion__item");new Pe(t)});var t=document.querySelectorAll(".productfeature__content");t.forEach(function(e){var t=e.querySelectorAll(".show-hide__item");new Pe(t)});var a=document.querySelectorAll(".filter-group");a.forEach(function(e){var t=e.querySelectorAll(".accordion__item");new Pe(t,{openFirstItem:!1})})}),window.addEventListener("load",function(){var e=document.querySelectorAll(".tooltip");e.forEach(function(e){new xe(e)})}),window.addEventListener("keydown",function(e){if("Escape"===e.key){var t=document.activeElement,a=document.querySelector(".tooltip:hover");t.classList.contains("tooltip")&&t.blur(),a&&(a.style.pointerEvents="none",document.addEventListener("mousemove",function(){a.style.pointerEvents=null},{once:!0}))}}),window.allScrollables=new Map,window.addEventListener("load",function(){var e=document.querySelectorAll(".scrollable, .scrollable--vertical");e.forEach(function(e){window.allScrollables.set(e,new qe(e))})}),window.allCardGroups=new Map,window.addEventListener("load",function(){var e=document.querySelectorAll("[data-component=carousel]");e.forEach(function(e){window.allCardGroups.set(e.getAttribute("data-component-id"),new Fe(e))}),He()}),window.addEventListener("resize",function(){allCardGroups.forEach(function(e){e.initialize()}),He()}),window.allTables=new Map,window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-component=table]");e.forEach(function(e){window.allTables.set(e.getAttribute("id"),new Be(e))})}),window.addEventListener("resize",function(e,t){var a=0;return function(){var r=new Date().getTime();if(!(r-a<t))return a=r,e.apply(void 0,arguments)}}(function(){allTables.forEach(function(e){e.handleResize()})},100)),window.addEventListener("load",function(){var e=document.querySelectorAll("[data-component=pagination]");0<e.length&&_e(),e.forEach(function(e){new Me(e)})}),window.addEventListener("load",function(){var e=document.querySelectorAll("[data-component=\"filterable\"]");e.forEach(function(e){new Oe(e)})}),window.addEventListener("load",function(){var e=document.querySelectorAll(".index--blade");e.forEach(function(e){new Re(e)})}),window.allGrids=[],window.addEventListener("load",function(){var e=document.querySelectorAll(".cards-grid__wrapper ");e.forEach(function(e){window.allGrids.push(new ze(e,{allowSingleElementInRow:!1}))})}),window.addEventListener("resize",function(){allGrids.forEach(function(e){e.handleResize()})}),window.addEventListener("load",function(){var e=document.querySelectorAll(".js-tableau");0<e.length&&new Ne(e)})})();